(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{24:function(e){e.exports=JSON.parse('{"a":"Mateusz Ozog"}')},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(9),i=a.n(c),s=a(3),l=a.n(s),o=a(6),u=a(0),j=function(e){var t=e.title,a=e.info,n=e.subTitle;return Object(u.jsxs)("div",{className:"page-title p-xl-5 p-lg-4 p-3",children:[a&&Object(u.jsx)("h3",{className:"opacity-75 mb-0",children:a}),Object(u.jsx)("h1",{className:"display-4 fw-bold",children:t}),n&&Object(u.jsx)("p",{className:"opacity-75",children:n})]})},h=a(4),d=a.n(h),b=function(e){var t=e.author,a=d()().year();return Object(u.jsxs)("p",{className:"page-copyright text-center p-xl-5 p-3",children:["\xa9 ",a," ",t]})},m=a(24),p=function(){return Object(n.useContext)(Q)},x=function(e){var t=e.children,a=p().locales;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j,{info:a.appTitlePre,title:a.appTitle,subTitle:a.appSubTitle}),Object(u.jsx)("div",{className:"default-layout",children:Object(u.jsx)("div",{className:"default-layout-container p-4 shadow-lg",children:t})}),Object(u.jsx)(b,{author:m.a})]})},f=a(11),O=function(e){var t=e.show,a=e.setShow,n=e.children,r=function(){a(!1)},c=function(){return t?" show":" hide"};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"modal align-items-center d-flex justify-content-center"+c(),children:[Object(u.jsx)("div",{className:"modal-body"+c(),children:n}),Object(u.jsx)("div",{className:"modal-close position-fixed cursor-pointer display-5 top-0 end-0 m-5",onClick:r,children:Object(u.jsx)("i",{className:"bx bx-x"})})]}),Object(u.jsx)("div",{className:"modal-backdrop"+c(),onClick:r})]})},y=a(5),v=function(){return Object(y.b)()},w=a(10),N="en",g={currentWeatherData:null,hourlyWeatherData:null,cityName:"Krak\xf3w",loading:!1},C=Object(w.b)({name:"weather",initialState:g,reducers:{setCurrentWeatherData:function(e,t){e.currentWeatherData=t.payload},setHourlyWeatherData:function(e,t){e.hourlyWeatherData=t.payload},setCityName:function(e,t){e.cityName=t.payload},setLoading:function(e,t){e.loading=t.payload}}}),k=C.actions,W=k.setCurrentWeatherData,F=k.setHourlyWeatherData,D=k.setCityName,S=k.setLoading,H=C.reducer,T=function(){var e=v(),t=p().locales,a=Object(n.useState)(!1),r=Object(f.a)(a,2),c=r[0],i=r[1],s=Object(n.useRef)(null),l=function(){var t=s.current?s.current.value:"";e(D(t)),i(!1)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{className:"btn btn-icon btn-lg btn-primary text-white shadow-sm rounded-circle text-nowrap",onClick:function(){return i(!0)},children:Object(u.jsx)("i",{className:"bx bx-search"})}),Object(u.jsx)(O,{show:c,setShow:i,children:Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("input",{ref:s,onKeyDown:function(e){"Enter"===e.key&&l()},className:"search-input h6 text-center",placeholder:t.enterCityName}),Object(u.jsxs)("button",{onClick:l,className:"btn btn-lg btn-primary rounded-pill text-white d-block m-auto mt-4",children:[t.search,Object(u.jsx)("i",{className:"bx bx-search ms-2"})]})]})})]})},z=function(e){var t=e.cityName,a=e.localizationDescription;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{className:"mb-0 fw-bold",children:t}),Object(u.jsx)("p",{className:"mb-0",children:a})]})})},K=y.c,L=a(25),M=a(26),U=a(15),I=a.n(U),E=function(){function e(){Object(L.a)(this,e),this.apiUrl=void 0,this.apiKey=void 0,this.apiUrl="https://api.openweathermap.org/data/2.5/",this.apiKey="f054371b11ebe3fa19fbcb60969b8b97"}return Object(M.a)(e,[{key:"getCurrentWeatherForCityName",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(this.apiUrl,"weather?q=").concat(t,"&appid=").concat(this.apiKey,"&units=metric&lang=").concat(N),e.next=3,I.a.get(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getHourlyWeatherForCityName",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(this.apiUrl,"forecast?q=").concat(t,"&appid=").concat(this.apiKey,"&units=metric&lang=").concat(N),e.next=3,I.a.get(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"generateIconImageUrl",value:function(e){return"".concat("http://openweathermap.org/img/wn/").concat(e,"@4x.png")}}]),e}(),J=function(){return new E},P=function(e){var t=e.icon,a=e.size,n=J();return Object(u.jsx)("img",{alt:"Weather app - weather condition icon",src:n.generateIconImageUrl(t),width:a,height:a})},_=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"spinner-border"})})},q=function(e){var t=e.cardsData;return Object(u.jsx)("div",{className:"py-2 px-4",children:Object(u.jsx)("div",{className:"d-flex flex-wrap justify-content-between",children:t.map((function(e,t){return Object(u.jsxs)("div",{className:"text-start",style:{minWidth:"110px"},children:[Object(u.jsx)("p",{className:"mb-0",children:e.title}),Object(u.jsx)("p",{className:"mb-0 fw-bold",children:e.value})]},"info-card_".concat(t))}))})})},R=function(){var e=p().locales,t=K((function(e){return e.weather})),a=t.currentWeatherData,n=t.loading;return a||n?n?Object(u.jsx)("div",{className:"w-100 py-5 text-center",children:Object(u.jsx)(_,{})}):a?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)(P,{icon:a.weather[0].icon}),Object(u.jsx)("p",{className:"mb-0",children:a.weather[0].main}),Object(u.jsxs)("h1",{className:"fw-bold display-4 mb-5",children:[Math.floor(a.main.temp),"\xb0C"]}),Object(u.jsx)(q,{cardsData:a?[{title:e.wind,value:"".concat(a.wind.speed.toString()," ").concat(e.kmph)},{title:e.humidity,value:a.main.humidity.toString()+"%"},{title:e.visibility,value:a.visibility+"m"},{title:e.feelsLike,value:Math.floor(a.main.feels_like).toString()+"\xb0C"}]:[]})]})}):Object(u.jsx)(u.Fragment,{}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{className:"text-center py-5",children:e.noCurrentWeatherDataForCity})})},A=function(){var e=p().locales,t=K((function(e){return e.weather})),a=t.hourlyWeatherData,n=t.loading;return a||n?n?Object(u.jsx)("div",{className:"w-100 py-5 text-center",children:Object(u.jsx)(_,{})}):a?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"pt-4 px-4",children:Object(u.jsx)("div",{className:"overflow-auto",children:Object(u.jsx)("div",{className:"d-flex",children:a.list.map((function(e,t){return Object(u.jsxs)("div",{className:"hourly-weather-card",children:[Object(u.jsx)("p",{className:"text-center mb-0",children:(a=e.dt,d()(1e3*a).utc(!1).format("HH:mm"))}),Object(u.jsx)("div",{className:"w-25",children:Object(u.jsx)(P,{icon:e.weather[0].icon,size:80})}),Object(u.jsx)("small",{className:"d-block text-center",children:e.weather[0].main}),Object(u.jsxs)("h5",{className:"fw-bold text-center",children:[Math.floor(e.main.temp),"\xb0C"]})]},"hourly-weather_".concat(t));var a}))})})})}):Object(u.jsx)(u.Fragment,{}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("p",{className:"text-center py-5",children:e.noHourlyWeatherDataForCity})})},B=function(e){var t=e.className;return Object(u.jsx)("div",{className:"w-100 border-bottom border border-dark "+t})},G=function(){var e=K((function(e){return e.weather})),t=e.currentWeatherData,a=e.cityName;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(x,{children:[Object(u.jsxs)("div",{className:"d-flex justify-content-between p-4",children:[Object(u.jsx)(z,{cityName:t?t.name:a,localizationDescription:function(){var e="";if(t){e+=d()(1e3*t.dt+1e3*t.timezone).utc(!1).format("HH:mm");var a=d.a.duration(1e3*t.timezone).hours();e+=" (GMT".concat(t.timezone>0?"+":"").concat(a,":00)")}return e}()}),Object(u.jsx)(T,{})]}),Object(u.jsx)(R,{}),Object(u.jsx)("div",{className:"p-4",children:Object(u.jsx)(B,{})}),Object(u.jsx)(A,{})]})})},V={en:{appTitle:"Weather app",appTitlePre:"Another",appSubTitle:"React w/TypeScript",enterCityName:"Enter city name",search:"Search",noCurrentWeatherDataForCity:"Cannot load current weather data for this city.",noHourlyWeatherDataForCity:"Cannot load hourly weather data for this city.",humidity:"Humidity",visibility:"Visibility",feelsLike:"Feels like",wind:"Wind",kmph:"km/h"}},Q=r.a.createContext({locales:V.en,setLocales:function(){}}),X=function(){var e=v(),t=function(){var e=Object(n.useState)(V.en),t=Object(f.a)(e,2);return{locales:t[0],setLocales:t[1]}}(),a=J(),r=K((function(e){return e.weather.cityName})),c=function(){var t=Object(o.a)(l.a.mark((function t(){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(S(!0)),t.prev=1,t.next=4,a.getCurrentWeatherForCityName(r);case 4:return n=t.sent,e(W(n.data)),t.next=8,a.getHourlyWeatherForCityName(r);case 8:c=t.sent,e(F(c.data)),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),e(W(null)),e(F(null));case 16:return t.prev=16,e(S(!1)),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[1,12,16,19]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){r&&c()}),[r]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Q.Provider,{value:t,children:Object(u.jsx)(G,{})})})},Y=Object(w.a)({reducer:{weather:H}});a(56);i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(y.a,{store:Y,children:Object(u.jsx)(X,{})})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.b3b8650b.chunk.js.map